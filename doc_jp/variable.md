[目次へ戻る](index.md)
## 変数の定義と代入
変数の宣言と値の代入の仕方は以下のように書く。

```fsharp
ch.i <| fun x ->
```
`i`の部分は変数の型、`x`は変数名を表わす。
次の行からはインデント(字下げ)を行い、インデントが戻るまでの間、`x`が使用可能となる。
変数の型には以下のようなものがある。

|指定子|変数の型|
|-----|-----|
|i|整数|
|d|倍精度浮動小数点型|
|z|複素数型（倍精度）|

変数への代入は、`<==`を使用する
```fsharp
ch.i <| fun x ->
    x <== 1
```
整数型の変数に小数・複素数を代入すると警告が出る。倍精度小数点型の変数に整数を代入するのは問題ない。
同様に、倍精度浮動小数点型の変数に複素数を代入すると警告が出る。
警告が出たときは、「続行するには何かキーを押してください」が表示されるまでEnterを押す。

変数の使用可能範囲は`ch`の次の行からインデントが戻るまでとなる。以下のコードでは、「`x<==3`」の行でインデントが戻っているため、変数`x`を使用できない。

エラーあり：
```fsharp
ch.i <| fun x ->
    x <== 1
    x <== 2
x <== 3 //ここでxは使用できない
```
修正後：
```fsharp
ch.i <| fun x ->
    x <== 1
    x <== 2
    x <== 3
```

変数を複数定義する場合は以下のようにする。
```fsharp
ch.i <| fun x ->
    ch.i <| fun y ->
        x <== 1
        y <== 2
```
3～4行目は「`ch.i <| fun x ->`」と「`ch.i <| fun y ->`」の中にあるため、`x`と`y`が両方使用できる。
以下の例では、2行目から3行目にかけてインデントが戻っており、3行目以降は変数`x`を使用できない。
```fsharp
ch.i <| fun x ->
    x <== 1
ch.i <| fun y ->
    x <== 1　//ここでxは使用できない
    y <== 2
```
以下は同じ変数が複数定義されているが、2、5行目は1行目で定義された`x`、4行目は3行目で定義された`x`を参照することになる
```fsharp
ch.i <| fun x ->
    x <== 1
    ch.i <| fun x ->
        x <== 2
    print.c x
```
複数の変数を宣言していくと、インデントが急速に深くなって読みにくくなる。そのため、複数の変数を同時に定義できる関数が用意されている。
```fsharp
ch.ii <| fun (x,y) ->
    x <== 1
    y <== 2
```
「`ii`」は、整数型2個を表わす。最大4個まで指定可能
```fsharp
ch.iiii <| fun (x,y,z,w) ->
    x <== 1
    y <== 2
    z <== 3
    w <== 4
```
異なる型が混在していても良い。以下の例では、`x`が整数型、`y`と`z`が浮動小数点型、`w`が複素数型になる。
```fsharp
ch.iddz <| fun (x,y,z,w) ->
    x <== 1
    y <== 2.0
    z <== 3.0
    w <== 4.0+asm.uj*5.0
```
指定子の順番はi(整数)→d(実数)→z(複素数)の順に限られる。（「`ch.iiz`」は可能だが「`ch.ch.izi`」「`ch.zid`」は不可）

### 複素数

例えば、変数`x`に 5 - 3jを代入する式は以下のようになる。

```fsharp
w <== 5.0-asm.uj*3.0
```
「`asm.uj`」は虚数単位を表わす。複素数型の変数については、''変数名.プロパティ''でいくつかの値が参照できる

|プロパティ|内容|
|--|--|
|abs|絶対値|
|re|実部|
|im|虚部|
|pha|偏角|
|pow|絶対値の2乗|

例えば、変数`a`に`x`の絶対値の2乗を代入する式は以下のようになる。
```fsharp
a <== x.pow
```